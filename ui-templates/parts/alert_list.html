{% macro alert_list(alerts) %}
  {% for alert in alerts %}
  <div class="card alert-{{ alert.ui_class }}">
    <div class="card-header" id="headingOne">
      <h2 class="mb-0">
        <button class="btn btn-link btn-block text-left" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
          {{ alert.title }}
        </button>
        <span class="badge badge-{{ alert.ui_class}}">{{ alert.severity }}</span>
      </h2>
      <span class="badge">Since {{ alert.start_time }}</span>
      <span class="badge">Last Seen {{ alert.last_time }}</span>
      {% if alert.end_time %}
      <span class="badge">Ended {{ alert.end_time }}</span>
      {% endif %}
    </div>

    <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordionExample">
      <div class="card-body">
        <strong>Module: </strong><a href="/logs/{{ alert.module }}" title="Click for logs">{{ alert.module }}</a>
        {% autoescape false %}
        <p>{{ alert.description | replace("\n\n", "</p><p>") | replace("\n", "<br/>")}}</p>
        {% endautoescape %}
      </div>
    </div>
  </div>
  {% endfor %}
  {% if not alerts %}
  <strong>No alerts here.</strong>
  {% endif %}
{% endmacro %}
